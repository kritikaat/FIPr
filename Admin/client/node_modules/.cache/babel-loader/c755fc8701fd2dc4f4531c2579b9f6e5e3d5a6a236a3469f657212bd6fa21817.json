{"ast":null,"code":"var _jsxFileName = \"D:\\\\IPR Version 1\\\\Admin\\\\client\\\\src\\\\components\\\\login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    rememberMe: false\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState(\"\"); // Add error state\n  const navigate = useNavigate();\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    // Trim whitespace for email and password fields immediately\n    const finalValue = type === \"checkbox\" ? checked : name === \"email\" || name === \"password\" ? value.trim() : value;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: finalValue\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\"); // Clear any previous errors\n\n    try {\n      // Ensure data is trimmed before sending\n      const loginData = {\n        email: formData.email.trim(),\n        password: formData.password.trim()\n      };\n      console.log('Attempting login with:', {\n        email: loginData.email\n      }); // Debug log\n\n      const response = await fetch('http://localhost:3000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(loginData)\n      });\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('token', data.token);\n        navigate('/dashboard');\n      } else {\n        setError(data.error || 'Login failed. Please check your credentials.');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      setError('Error during login. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"font-[sans-serif]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex flex-col items-center justify-center py-6 px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid md:grid-cols-2 items-center gap-4 max-w-6xl w-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border border-gray-300 rounded-lg p-6 max-w-md shadow-xl max-md:mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-4\",\n            children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",\n              role: \"alert\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block sm:inline\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-gray-800 text-3xl font-extrabold\",\n                children: \"Login to your account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-gray-800 text-lg mb-2 block\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"email\",\n                type: \"email\",\n                value: formData.email,\n                onChange: handleChange,\n                required: true,\n                className: \"w-full text-sm text-gray-800 border border-gray-300 px-4 py-3 rounded-lg outline-blue-600\",\n                placeholder: \"Enter email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-gray-800 text-lg mb-2 block\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  name: \"password\",\n                  type: showPassword ? \"text\" : \"password\",\n                  value: formData.password,\n                  onChange: handleChange,\n                  required: true,\n                  className: \"w-full text-sm text-gray-800 border border-gray-300 px-4 py-3 rounded-lg outline-blue-600\",\n                  placeholder: \"Enter password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => setShowPassword(!showPassword),\n                  className: \"absolute right-3 top-1/2 transform -translate-y-1/2\",\n                  children: showPassword ? \"Hide\" : \"Show\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full shadow-xl py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none\",\n              children: \"Log in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"s//Ru6eYcl5dD8Qxm5b6Nk+jrTM=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useNavigate","jsxDEV","_jsxDEV","Login","_s","formData","setFormData","email","password","rememberMe","showPassword","setShowPassword","error","setError","navigate","handleChange","e","name","value","type","checked","target","finalValue","trim","prevData","handleSubmit","preventDefault","loginData","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","token","className","children","onSubmit","role","fileName","_jsxFileName","lineNumber","columnNumber","onChange","required","placeholder","onClick","_c","$RefreshReg$"],"sources":["D:/IPR Version 1/Admin/client/src/components/login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    rememberMe: false,\r\n  });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState(\"\"); // Add error state\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    // Trim whitespace for email and password fields immediately\r\n    const finalValue = type === \"checkbox\" ? checked : \r\n                      (name === \"email\" || name === \"password\") ? value.trim() : value;\r\n    \r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: finalValue,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\"); // Clear any previous errors\r\n    \r\n    try {\r\n      // Ensure data is trimmed before sending\r\n      const loginData = {\r\n        email: formData.email.trim(),\r\n        password: formData.password.trim()\r\n      };\r\n\r\n      console.log('Attempting login with:', { email: loginData.email }); // Debug log\r\n\r\n      const response = await fetch('http://localhost:3000/api/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(loginData),\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (response.ok) {\r\n        localStorage.setItem('token', data.token);\r\n        navigate('/dashboard');\r\n      } else {\r\n        setError(data.error || 'Login failed. Please check your credentials.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      setError('Error during login. Please try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"font-[sans-serif]\">\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center py-6 px-4\">\r\n        <div className=\"grid md:grid-cols-2 items-center gap-4 max-w-6xl w-full\">\r\n          <div className=\"border border-gray-300 rounded-lg p-6 max-w-md shadow-xl max-md:mx-auto\">\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              {error && (\r\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n                  <span className=\"block sm:inline\">{error}</span>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"mb-8\">\r\n                <h3 className=\"text-gray-800 text-3xl font-extrabold\">Login to your account</h3>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-gray-800 text-lg mb-2 block\">Email</label>\r\n                <input\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  required\r\n                  className=\"w-full text-sm text-gray-800 border border-gray-300 px-4 py-3 rounded-lg outline-blue-600\"\r\n                  placeholder=\"Enter email\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"text-gray-800 text-lg mb-2 block\">Password</label>\r\n                <div className=\"relative\">\r\n                  <input\r\n                    name=\"password\"\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    required\r\n                    className=\"w-full text-sm text-gray-800 border border-gray-300 px-4 py-3 rounded-lg outline-blue-600\"\r\n                    placeholder=\"Enter password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2\"\r\n                  >\r\n                    {showPassword ? \"Hide\" : \"Show\"}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                className=\"w-full shadow-xl py-3 px-4 text-sm tracking-wide rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none\"\r\n              >\r\n                Log in\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}